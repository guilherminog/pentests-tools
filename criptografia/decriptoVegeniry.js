function vigenereDecrypt(ciphertext, key) {
    ciphertext = ciphertext.toUpperCase();
    key = key.toUpperCase();
    let decrypted = '';
    let keyIndex = 0;
    for (let i = 0; i < ciphertext.length; i++) {
        const charCode = ciphertext.charCodeAt(i);
        if (charCode >= 65 && charCode <= 90) { // Check if it's an uppercase letter
            const shift = key.charCodeAt(keyIndex) - 65;
            const decryptedCharCode = ((charCode - 65 - shift + 26) % 26) + 65;
            decrypted += String.fromCharCode(decryptedCharCode);
            keyIndex = (keyIndex + 1) % key.length;
        } else {
            decrypted += ciphertext.charAt(i); // Preserve non-alphabetic characters
        }
    }
    return decrypted;
}

// Exemplo de uso:
const key = "HACKERSDOBEM"; 
const ciphertext = "VAVKULWLFBSOVRTOVRKGSALAYAU"; 

const decryptedMessage = vigenereDecrypt(ciphertext, key);
console.log("Mensagem decifrada:", decryptedMessage);